%% Dades
% MATERIAL AND SECTION DATA
ct  = pi/64;
I1  = ct*(21.34^4 - (21.34-2*2.769)^4);
I2  = ct*(21.34^4 - (21.34-2*3.73)^4);
I3  = ct*(26.7^4 - (26.7-2*2.87)^4);
I4  = ct*(26.7^4 - (26.7-2*3.91)^4);
I5  = ct*(33.4^4 - (33.4-2*3.38)^4);
I6  = ct*(33.4^4 - (33.4-2*4.55)^4);
I7  = ct*(42.2^4 - (42.2-2*3.56)^4);
I8  = ct*(48.3^4 - (48.3-2*3.68)^4);
I9  = ct*(42.2^4 - (42.2-2*4.85)^4);
I10 = ct*(48.3^4 - (48.3-2*5.08)^4);
I11 = ct*(60.3^4 - (60.3-2*3.91)^4);
I12 = ct*(60.3^4 - (60.3-2*5.54)^4);
I13 = ct*(73.0^4 - (73.0-2*5.16)^4);
I14 = ct*(88.9^4 - (88.9-2*5.49)^4);
I15 = ct*(73.0^4 - (73.0-2*7.01)^4);
I16 = ct*(60.3^4 - (60.3-2*11.1)^4);
I17 = ct*(102.0^4 - (102.0-2*5.74)^4);
I18 = ct*(88.9^4 - (88.9-2*7.62)^4);
I19 = ct*(114.0^4 - (114.0-2*6.02)^4);
I20 = ct*(102.0^4 - (102.0-2*8.08)^4);
I21 = ct*(73.0^4 - (73.0-2*14.0)^4);
I22 = ct*(141.0^4 - (141.0-2*6.55)^4);
I23 = ct*(114.0^4 - (114.0-2*8.56)^4);
I24 = ct*(88.9^4 - (88.9-2*15.2)^4);
I25 = ct*(168.0^4 - (168.0-2*7.11)^4);
I26 = ct*(141.0^4 - (141.0-2*9.53)^4);
I27 = ct*(114.0^4 - (114.0-2*17.1)^4);
I28 = ct*(168.0^4 - (168.0-2*11.0)^4);
I29 = ct*(219.0^4 - (219.0-2*8.18)^4);
I30 = ct*(141.0^4 - (141.0-2*19.1)^4);
I31 = ct*(273.0^4 - (273.0-2*9.27)^4);
I32 = ct*(219.0^4 - (219.0-2*12.7)^4);
I33 = ct*(324.0^4 - (324.0-2*9.53)^4);
I34 = ct*(168.0^4 - (168.0-2*21.9)^4);
I35 = ct*(273.0^4 - (273.0-2*12.7)^4);
I36 = ct*(324.0^4 - (324.0-2*12.7)^4);
I37 = ct*(219.0^4 - (219.0-2*22.2)^4);

% Materials section (mm2) and inertia (mm4)
Si  = [1.6129e2, I1;    %(1)
                      2.0645e2, I2;    %(2)
                      2.1484e2, I3;    %(3)
                      2.7935e2, I4;    %(4)
                      3.1871e2, I5;    %(5)
                      4.1226e2, I6;    %(6)
                      4.3161e2, I7;    %(7)
                      5.1548e2, I8;    %(8)
                      5.6839e2, I9;    %(9)
                      6.9032e2, I10;   %(10)
                      6.9032e2, I11;   %(11)
                      9.5484e2, I12;   %(12)
                      10.9677e2, I13;  %(13)
                      14.3871e2, I14;  %(14)
                      14.5161e2, I15;  %(15)
                      17.1613e2, I16;  %(16)
                      17.2903e2, I17;  %(17)
                      19.4838e2, I18;  %(18)
                      20.4516e2, I19;  %(19)
                      23.7419e2, I20;  %(20)
                      25.9999e2, I21;  %(21)
                      27.7419e2, I22;  %(22)
                      28.4516e2, I23;  %(23)
                      35.2903e2, I24;  %(24)
                      35.9999e2, I25;  %(25)
                      39.4193e2, I26;  %(26)
                      52.258e2, I27;   %(27)
                      54.1934e2, I28;  %(28)
                      54.1934e2, I29;  %(29)
                      72.9031e2, I30;  %(30)
                      76.774e2, I31;   %(31)
                      82.5805e2, I32;  %(32)
                      94.1934e2, I33;  %(33)
                      100.645e2, I34;  %(34)
                      103.8708e2, I35; %(35)
                      123.8707e2, I36; %(36)
                      137.4191e2, I37; %(37)
                        ];

%% Syms
clc; close all;
syms re ri
syms A I
eq1 = A - pi*(re^2 - ri^2) == 0;
eq2 = I - A*(re^2 + ri^2)/2 == 0;
sols = solve([eq1, eq2], [re ri]);

Aval = Si(:,1);
Ival = Si(:,2);

Re_val = (2^(1/2)*((Aval.^2 + 2*pi.*Ival)./Aval).^(1/2))./(2*pi^(1/2));
Ri_val = (2^(1/2)*(-(Aval.^2 - 2*pi.*Ival)./Aval).^(1/2))./(2*pi^(1/2));

expr = (Re_val.^4 + Ri_val.^4)/2;
[vals, idx] = sort(expr);
figure()
subplot(1,2,1)
plot(Si(idx,1))
title('area')

subplot(1,2,2)
plot(Si(idx,2))
title('inercia')

a = axes;
t1 = title('(R_e^4 + R_i^4)/2');
a.Visible = 'off'; % set(a,'Visible','off');
t1.Visible = 'on'; % set(t1,'Visible','on');
%==================================================================
%                        General Data File
% Title: Cantileverbeam_Triangle_Linear
% Units: SI
% Dimensions: 2D
% Type of problem: Plane_Stress
% Type of Phisics: ELASTIC
% Micro/Macro: MACRO
%
%==================================================================

%% Data

Data_prb = {
'TRIANGLE';
'SI';
'2D';
'Plane_Stress';
'ELASTIC';
'MACRO';
};

%% Coordinates
% Node                X                Y                Z

coord = [
1            0            1            0
2      0.11111            1            0
3            0      0.88889            0
4     0.095622      0.83229            0
5      0.22222            1            0
6            0      0.77778            0
7      0.21222      0.86396            0
8     0.095263      0.72222            0
9      0.29592      0.91053            0
10            0      0.66667            0
11      0.33333            1            0
12       0.2172      0.74409            0
13      0.31056      0.81494            0
14       0.1335      0.62163            0
15      0.40126      0.87377            0
16       0.3161      0.70533            0
17      0.24664      0.64203            0
18            0      0.55556            0
19      0.44444            1            0
20      0.40785      0.76414            0
21      0.49662        0.918            0
22      0.32437       0.5959            0
23      0.23511      0.53294            0
24      0.49923      0.82412            0
25      0.14031      0.48792            0
26       0.4145      0.65851            0
27            0      0.44444            0
28      0.55556            1            0
29      0.50655      0.71717            0
30      0.58261      0.89212            0
31      0.23602      0.44486            0
32      0.41476      0.56114            0
33      0.33537       0.4896            0
34      0.59063      0.76812            0
35      0.14909      0.37951            0
36      0.51267      0.61078            0
37            0      0.33333            0
38      0.66667            1            0
39      0.59546      0.65844            0
40      0.41455      0.44286            0
41      0.32653       0.3842            0
42      0.68302      0.82653            0
43      0.50714      0.50183            0
44       0.2336      0.32682            0
45      0.14094      0.27233            0
46      0.68771      0.71683            0
47      0.60248      0.54887            0
48      0.41457      0.34406            0
49            0      0.22222            0
50      0.77778            1            0
51      0.77888      0.90456            0
52      0.51228      0.39286            0
53      0.33102      0.27745            0
54      0.69346      0.61033            0
55      0.78006      0.77514            0
56      0.60232      0.45446            0
57      0.23556      0.21746            0
58      0.78563      0.66843            0
59      0.12055       0.1551            0
60        0.701      0.50085            0
61      0.50716      0.28611            0
62      0.43218      0.23627            0
63      0.59646      0.34483            0
64            0      0.11111            0
65      0.88889            1            0
66      0.87687       0.8257            0
67      0.33088      0.16259            0
68      0.79153      0.56286            0
69      0.86954      0.71673            0
70      0.69371      0.39499            0
71      0.23568       0.1075            0
72      0.78187      0.45404            0
73      0.87185      0.60723            0
74      0.95846      0.89071            0
75      0.51183       0.1764            0
76      0.60414      0.23587            0
77      0.42616      0.10709            0
78       0.6896      0.28738            0
79      0.96825      0.76482            0
80            0            0            0
81            1            1            0
82      0.11111            0            0
83      0.87943      0.49797            0
84      0.78072      0.34478            0
85      0.96471      0.66253            0
86      0.22222            0            0
87      0.50555     0.078684            0
88      0.33333            0            0
89       0.8746      0.40066            0
90      0.96932      0.56054            0
91       1.0583      0.86303            0
92      0.58975      0.10993            0
93      0.69605      0.18004            0
94       1.0556      0.72386            0
95      0.44444            0            0
96      0.78594      0.23548            0
97       1.1111            1            0
98      0.97196      0.45076            0
99      0.87897      0.28977            0
100       1.0638      0.61545            0
101      0.55556            0            0
102       1.1601      0.89457            0
103      0.96761      0.34288            0
104       1.0654       0.5085            0
105        1.156      0.77924            0
106       0.7811     0.099641            0
107      0.87128      0.18233            0
108       1.1515      0.67266            0
109      0.66667            0            0
110       1.0596      0.39935            0
111       1.2222            1            0
112       1.1513      0.55402            0
113      0.96817      0.23337            0
114       1.2529      0.83056            0
115      0.77778            0            0
116       1.0619      0.29007            0
117       1.2496      0.72208            0
118       1.1557      0.44693            0
119       1.2438      0.61318            0
120      0.97432      0.11191            0
121       1.1541      0.34871            0
122       1.3333            1            0
123       1.0565      0.18258            0
124      0.88889            0            0
125       1.3392      0.90312            0
126       1.2492      0.50425            0
127       1.3423      0.76908            0
128       1.1481      0.23908            0
129       1.3391      0.65989            0
130       1.2526      0.39568            0
131        1.339      0.56612            0
132       1.0611     0.073163            0
133            1            0            0
134       1.2457      0.28934            0
135       1.1523      0.12975            0
136       1.4444            1            0
137       1.3423      0.45702            0
138       1.4401      0.81911            0
139       1.4338      0.70947            0
140       1.3351      0.34739            0
141       1.4349      0.61244            0
142       1.2455      0.18684            0
143       1.1111            0            0
144       1.4335      0.51695            0
145       1.5356      0.88559            0
146       1.3423      0.23847            0
147       1.5282      0.76504            0
148       1.4289      0.40442            0
149       1.2585     0.089275            0
150       1.5556            1            0
151         1.53      0.65707            0
152       1.2222            0            0
153       1.5304       0.5687            0
154       1.4317      0.29517            0
155       1.3428      0.11665            0
156        1.527      0.45935            0
157       1.6205      0.91205            0
158       1.6248      0.81734            0
159       1.4327      0.18532            0
160        1.622       0.7079            0
161       1.5237         0.35            0
162       1.3333            0            0
163       1.6667            1            0
164        1.628      0.61905            0
165       1.6223      0.50935            0
166        1.527      0.24065            0
167       1.7215      0.86963            0
168       1.6189          0.4            0
169       1.7186      0.76001            0
170        1.716      0.65115            0
171       1.4444            0            0
172       1.6189          0.3            0
173       1.5346      0.11632            0
174       1.7778            1            0
175       1.7267      0.54278            0
176       1.7142         0.45            0
177       1.6223      0.19065            0
178       1.8203       0.9168            0
179       1.8128      0.80935            0
180       1.7142         0.35            0
181       1.8095          0.7            0
182       1.5556            0            0
183       1.8128      0.60935            0
184       1.6257       0.0813            0
185       1.7142         0.25            0
186       1.8095          0.5            0
187       1.8889            1            0
188       1.8095          0.4            0
189       1.9047         0.85            0
190       1.9047         0.75            0
191       1.7184      0.11609            0
192       1.9047         0.65            0
193       1.8095          0.3            0
194       1.6667            0            0
195       1.9047         0.55            0
196       1.8095          0.2            0
197       1.9047         0.45            0
198            2            1            0
199            2          0.9            0
200            2          0.8            0
201       1.9047         0.35            0
202            2          0.7            0
203       1.8128      0.09065            0
204            2          0.6            0
205       1.7778            0            0
206       1.9047         0.25            0
207            2          0.5            0
208       1.9047         0.15            0
209            2          0.4            0
210            2          0.3            0
211       1.8889            0            0
212            2          0.2            0
213            2          0.1            0
214            2            0            0
];

%% Conectivities
% Element        Node(1)                Node(2)                Node(3)                Material

connec = [
1 214 213 211 0
2 209 207 197 0
3 200 199 189 0
4 212 210 206 0
5 204 202 192 0
6 213 212 208 0
7 207 204 195 0
8 199 198 187 0
9 210 209 201 0
10 202 200 190 0
11 197 207 195 0
12 197 195 186 0
13 206 210 201 0
14 206 201 193 0
15 208 212 206 0
16 208 206 196 0
17 201 209 197 0
18 201 197 188 0
19 186 195 183 0
20 193 201 188 0
21 193 188 180 0
22 196 206 193 0
23 196 193 185 0
24 188 197 186 0
25 188 186 176 0
26 180 188 176 0
27 180 176 168 0
28 193 180 185 0
29 185 180 172 0
30 196 185 191 0
31 168 176 165 0
32 180 168 172 0
33 172 168 161 0
34 185 172 177 0
35 161 168 156 0
36 172 161 166 0
37 189 199 187 0
38 192 202 190 0
39 192 190 181 0
40 181 190 179 0
41 192 181 183 0
42 183 181 170 0
43 192 183 195 0
44 192 195 204 0
45 170 181 169 0
46 183 170 175 0
47 190 200 189 0
48 190 189 179 0
49 179 189 178 0
50 213 208 211 0
51 208 196 203 0
52 176 186 175 0
53 175 186 183 0
54 176 175 165 0
55 178 189 187 0
56 179 178 167 0
57 178 187 174 0
58 178 174 167 0
59 169 181 179 0
60 169 179 167 0
61 170 169 160 0
62 175 164 165 0
63 156 168 165 0
64 156 165 153 0
65 203 196 191 0
66 203 191 205 0
67 208 203 211 0
68 156 153 144 0
69 191 185 177 0
70 191 177 184 0
71 184 177 173 0
72 191 184 194 0
73 194 184 182 0
74 182 184 173 0
75 177 172 166 0
76 177 166 173 0
77 173 166 159 0
78 159 166 154 0
79 173 159 171 0
80 166 161 154 0
81 154 161 148 0
82 148 161 156 0
83 154 148 140 0
84 153 165 164 0
85 169 167 158 0
86 160 169 158 0
87 160 158 147 0
88 170 160 164 0
89 164 160 151 0
90 170 164 175 0
91 151 160 147 0
92 164 151 153 0
93 153 151 141 0
94 151 147 139 0
95 141 151 139 0
96 141 139 129 0
97 153 141 144 0
98 144 141 131 0
99 129 139 127 0
100 141 129 131 0
101 131 129 119 0
102 144 131 137 0
103 119 129 117 0
104 131 119 126 0
105 117 129 127 0
106 117 127 114 0
107 114 127 125 0
108 117 114 105 0
109 119 117 108 0
110 126 119 112 0
111 131 126 137 0
112 137 126 130 0
113 130 126 118 0
114 137 130 140 0
115 140 130 134 0
116 134 130 121 0
117 140 134 146 0
118 144 137 148 0
119 148 137 140 0
120 134 121 128 0
121 140 146 154 0
122 154 146 159 0
123 159 146 155 0
124 155 146 142 0
125 159 155 171 0
126 121 130 118 0
127 121 118 110 0
128 110 118 104 0
129 121 110 116 0
130 146 134 142 0
131 142 134 128 0
132 127 139 138 0
133 104 118 112 0
134 104 112 100 0
135 112 118 126 0
136 100 112 108 0
137 104 100 90 0
138 100 108 94 0
139 94 108 105 0
140 105 108 117 0
141 100 94 85 0
142 90 100 85 0
143 90 85 73 0
144 73 85 69 0
145 90 73 83 0
146 104 90 98 0
147 110 104 98 0
148 110 98 103 0
149 103 98 89 0
150 110 103 116 0
151 116 103 113 0
152 121 116 128 0
153 128 116 123 0
154 123 116 113 0
155 123 113 120 0
156 128 123 135 0
157 120 113 107 0
158 123 120 132 0
159 135 123 132 0
160 135 132 143 0
161 143 132 133 0
162 133 132 120 0
163 128 135 142 0
164 142 135 149 0
165 139 147 138 0
166 138 147 145 0
167 145 147 158 0
168 145 158 157 0
169 138 145 136 0
170 157 158 167 0
171 157 167 163 0
172 145 157 150 0
173 150 157 163 0
174 163 167 174 0
175 90 83 98 0
176 98 83 89 0
177 89 83 72 0
178 72 83 68 0
179 89 72 84 0
180 68 83 73 0
181 68 73 58 0
182 58 73 69 0
183 58 69 55 0
184 68 58 54 0
185 55 69 66 0
186 58 55 46 0
187 54 58 46 0
188 54 46 39 0
189 68 54 60 0
190 39 46 34 0
191 54 39 47 0
192 66 69 79 0
193 55 66 51 0
194 46 55 42 0
195 72 68 60 0
196 72 60 70 0
197 70 60 56 0
198 72 70 84 0
199 84 70 78 0
200 78 70 63 0
201 84 78 96 0
202 56 60 47 0
203 56 47 43 0
204 43 47 36 0
205 56 43 52 0
206 70 56 63 0
207 36 47 39 0
208 36 39 29 0
209 29 39 34 0
210 29 34 24 0
211 36 29 26 0
212 24 34 30 0
213 29 24 20 0
214 43 36 32 0
215 52 43 40 0
216 56 52 63 0
217 63 52 61 0
218 61 52 48 0
219 63 61 76 0
220 26 29 20 0
221 26 20 16 0
222 16 20 13 0
223 26 16 22 0
224 36 26 32 0
225 32 26 22 0
226 32 22 33 0
227 33 22 23 0
228 32 33 40 0
229 40 33 41 0
230 41 33 31 0
231 40 41 48 0
232 48 41 53 0
233 40 48 52 0
234 53 41 44 0
235 48 53 62 0
236 31 33 23 0
237 31 23 25 0
238 25 23 14 0
239 31 25 35 0
240 14 23 17 0
241 25 14 18 0
242 35 25 27 0
243 31 35 44 0
244 44 35 45 0
245 45 35 37 0
246 44 45 57 0
247 41 31 44 0
248 76 61 75 0
249 48 62 61 0
250 61 62 75 0
251 75 62 77 0
252 77 62 67 0
253 75 77 87 0
254 23 22 17 0
255 17 22 16 0
256 17 16 12 0
257 12 16 13 0
258 17 12 14 0
259 53 44 57 0
260 63 76 78 0
261 78 76 93 0
262 93 76 92 0
263 78 93 96 0
264 96 93 106 0
265 106 93 109 0
266 96 106 107 0
267 107 106 124 0
268 96 107 99 0
269 99 107 113 0
270 96 99 84 0
271 99 113 103 0
272 99 103 89 0
273 89 84 99 0
274 30 34 42 0
275 30 42 38 0
276 24 30 21 0
277 20 24 15 0
278 42 34 46 0
279 57 45 59 0
280 75 87 92 0
281 75 92 76 0
282 93 92 109 0
283 87 77 95 0
284 87 95 101 0
285 87 101 92 0
286 69 85 79 0
287 79 85 94 0
288 79 94 91 0
289 91 94 105 0
290 79 91 74 0
291 74 91 81 0
292 79 74 66 0
293 66 74 65 0
294 120 107 124 0
295 125 127 138 0
296 125 138 136 0
297 114 125 111 0
298 105 114 102 0
299 47 60 54 0
300 155 142 149 0
301 155 149 162 0
302 119 108 112 0
303 13 20 15 0
304 13 15 9 0
305 9 15 11 0
306 13 9 7 0
307 55 51 42 0
308 40 43 32 0
309 51 66 65 0
310 149 135 152 0
311 24 21 15 0
312 57 59 71 0
313 21 30 28 0
314 21 28 19 0
315 21 19 15 0
316 156 144 148 0
317 59 45 49 0
318 7 9 5 0
319 13 7 12 0
320 102 114 111 0
321 105 102 91 0
322 71 59 82 0
323 57 71 67 0
324 67 71 88 0
325 57 67 53 0
326 80 82 64 0
327 205 211 203 0
328 205 191 194 0
329 19 11 15 0
330 9 11 5 0
331 124 133 120 0
332 122 111 125 0
333 18 27 25 0
334 1 3 2 0
335 162 171 155 0
336 65 50 51 0
337 86 88 71 0
338 86 71 82 0
339 5 2 7 0
340 143 152 135 0
341 149 152 162 0
342 97 81 91 0
343 37 49 45 0
344 109 115 106 0
345 150 136 145 0
346 6 10 8 0
347 8 10 14 0
348 6 8 4 0
349 4 8 12 0
350 6 4 3 0
351 3 4 2 0
352 38 28 30 0
353 111 97 102 0
354 27 37 35 0
355 101 109 92 0
356 171 182 173 0
357 50 38 51 0
358 88 95 77 0
359 81 65 74 0
360 49 64 59 0
361 115 124 106 0
362 136 122 125 0
363 10 18 14 0
364 53 67 62 0
365 77 67 88 0
366 42 51 38 0
367 12 7 4 0
368 91 102 97 0
369 4 7 2 0
370 12 8 14 0
371 59 64 82 0
];

%% Variable Prescribed
% Node            Dimension                Value

dirichlet_data = [
1 1 0 
1 2 0 
3 1 0 
3 2 0 
6 1 0 
6 2 0 
10 1 0 
10 2 0 
18 1 0 
18 2 0 
27 1 0 
27 2 0 
37 1 0 
37 2 0 
49 1 0 
49 2 0 
64 1 0 
64 2 0 
80 1 0 
80 2 0 
];

%% Force Prescribed
% Node                Dimension                Value

pointload_complete = [
209 1 0
209 2 -0.1
204 1 0
204 2 -0.1
207 1 0
207 2 -0.1
];

% Via GiD example:
% Dirichlet
sDir = computeCondition(dirichlet_data);

% Point load
sPL = computeCondition(pointload_complete);

%% Volumetric Force
% Element        Dim                Force_Dim

Vol_force = [
];

%% Group Elements
% Element        Group_num

Group = [
];

%% Initial Holes
% Elements that are considered holes initially
% Element

Initial_holes = [
];

%% Boundary Elements
% Elements that can not be removed
% Element

Boundary_elements = [
];

%% Micro gauss post
%
% Element

Micro_gauss_post = [
];


%% Micro Slave-Master
% Nodes that are Slaves
% Nodes             Value (1-Slave,0-Master)

Micro_slave = [
];

%% Nodes solid
% Nodes that must remain 
% Nodes

nodesolid = unique(pointload_complete(:,1));

%% External border Elements
% Detect the elements that define the edge of the domain
% Element               Node(1)           Node(2)

External_border_elements = [
];

%% External border Nodes
% Detect the nodes that define the edge of the domain
% Node

External_border_nodes = [
];

%% Materials
% Materials that have been used
% Material_Num              Mat_density        Young_Modulus        Poisson

Materials = [
];

function sCond = computeCondition(conditions)
nodes = @(coor) 1:size(coor,1);
dirs  = unique(conditions(:,2));
j     = 0;
for k = 1:length(dirs)
    rowsDirk = ismember(conditions(:,2),dirs(k));
    u        = unique(conditions(rowsDirk,3));
    for i = 1:length(u)
        rows   = conditions(:,3)==u(i) & rowsDirk;
        isCond = @(coor) ismember(nodes(coor),conditions(rows,1));
        j      = j+1;
        sCond{j}.domain    = @(coor) isCond(coor);
        sCond{j}.direction = dirs(k);
        sCond{j}.value     = u(i);
    end
end
end